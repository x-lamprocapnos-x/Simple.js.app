let pokemonRepository=function(){let e=[];function t(t){'object'==typeof t&&'name'in t&&'detailsUrl'in t?e.push(t):console.log('pokemon is not correct')}function n(){return e}function o(e){pokemonRepository.loadDetails(e).then(function(){console.log(e),i(e)})}function i(e){let t=$('.modal'),n=$('.modal-body'),o=$('.modal-title');o.empty(),n.empty();let i=$('<h1>'+e.name+'</h1>'),l=$('<img class="modal-img" width= "55%">');l.attr('src',e.imageUrlFront);let a=$('<img class="modal-img" width= "45%">');a.attr('src',e.imageUrlback);let s=$('<p>Height: '+e.height+'</p>'),r=$('<p>Weight: '+e.weight+'</p>'),p=[];e.types.forEach(e=>p.push(e.type.name));let c=$('<p>Pokemon type(s): '+p.join(', ')+'</p>'),d=[];e.abilities.forEach(e=>d.push(e.ability.name));let u=$('<p>Abilities: '+d.join(', ')+'</p>'),m=$('<p>Can you catch me?</p>');o.append(i),n.append(l),n.append(a),n.append(s),n.append(r),n.append(c),n.append(u),n.append(m),t.addClass('show')}return $('.close').click(function e(){$('.modal').removeClass('show')}),document.querySelector('#searchBar').addEventListener('input',function e(t){let n=document.querySelectorAll('.pokemon-list li');for(let o=0;o<n.length;o++)n[o].querySelector('button').innerText.includes(t.target.value)?n[o].classList.remove('hide-pokemon'):n[o].classList.add('hide-pokemon')}),{add:t,getAll:n,addListItem:function e(t){let n=document.querySelector('.list-group'),i=document.createElement('li');i.classList.add('group-list-item');let l=document.createElement('button');l.innerText=t.name,l.classList.add('btn'),i.appendChild(l),n.appendChild(i),l.addEventListener('click',()=>{o(t)})},loadList:function e(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=1000').then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){t({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:function e(t){return fetch(t.detailsUrl).then(function(e){return e.json()}).then(function(e){t.imageUrlFront=e.sprites.front_default,t.imageUrlback=e.sprites.back_default,t.height=e.height,t.weight=e.weight,t.types=e.types,t.abilities=e.abilities}).catch(function(e){console.error(e)})},showDetails:o,showModal:i}}();console.log(pokemonRepository.getAll()),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});