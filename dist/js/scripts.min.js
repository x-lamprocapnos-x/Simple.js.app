let pokemonRepository=function(){let e=[];function t(){return e}return $('.close').click(function e(){$('.modal').removeClass('show')}),document.querySelector('#searchBar').addEventListener('input',function e(t){let n=document.querySelectorAll('.pokemon-list li');for(let i=0;i<n.length;i++)n[i].querySelector('button').innerText.includes(t.target.value)?n[i].classList.remove('hide-pokemon'):n[i].classList.add('hide-pokemon')}),{getAll:t,addListItem:function e(t){let n=document.querySelector('.list-group'),i=document.createElement('li');i.classList.add('group-list-item');let o=document.createElement('button');o.innerText=t.name,o.classList.add('btn'),i.appendChild(o),n.appendChild(i),o.addEventListener('click',()=>{(function e(t){var n;fetch((n=t).detailsUrl).then(function(e){return e.json()}).then(function(e){n.imageUrlFront=e.sprites.front_default,n.imageUrlback=e.sprites.back_default,n.height=e.height,n.weight=e.weight,n.types=e.types,n.abilities=e.abilities}).catch(function(e){console.error(e)}).then(function(){console.log(t),function e(t){let n=$('.modal'),i=$('.modal-body'),o=$('.modal-title');o.empty(),i.empty();let a=$('<h1>'+t.name+'</h1>'),l=$('<img class="modal-img" width= "55%">');l.attr('src',t.imageUrlFront);let r=$('<img class="modal-img" width= "45%">');r.attr('src',t.imageUrlback);let p=$('<p>Height: '+t.height+'</p>'),s=$('<p>Weight: '+t.weight+'</p>'),c=[];t.types.forEach(e=>c.push(e.type.name));let d=$('<p>Pokemon type(s): '+c.join(', ')+'</p>'),m=[];t.abilities.forEach(e=>m.push(e.ability.name));let u=$('<p>Abilities: '+m.join(', ')+'</p>'),h=$('<p>Can you catch me?</p>');o.append(a),i.append(l),i.append(r),i.append(p),i.append(s),i.append(d),i.append(u),i.append(h),n.addClass('show')}(t)})})(t)})},loadList:function t(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=1000').then(function(e){return e.json()}).then(function(t){t.results.forEach(function(t){var n;'object'==typeof(n={name:t.name,detailsUrl:t.url})&&'name'in n&&'detailsUrl'in n?e.push(n):console.log('pokemon is not correct')})}).catch(function(e){console.error(e)})}}}();console.log(pokemonRepository.getAll()),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});